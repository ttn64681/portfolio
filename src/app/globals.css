@import 'tailwindcss';

:root {
  /* primary things */
  --blackground: #000e1d;
  --white-title: #f1f8ff;
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  /* secondary things */
  --color-blackground: var(--blackground);
  --color-white-title: var(--white-title);
  --color-background: var(--background);
  --color-foreground: var(--foreground);

  /* Fonts - these are set by next/font/local in layout.tsx */
}

@media (prefers-color-scheme: dark) {
  /* dark mode */
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

/* Font utility classes */
.font-pixelify {
  font-family: var(--font-pixelify);
}

.font-pixel-mono {
  font-family: var(--font-pixel-mono);
}

.font-pixel-retron {
  font-family: var(--font-pixel-retron);
}

.font-pixel-terminal {
  font-family: var(--font-pixel-terminal);
}

.font-pixel-headline {
  font-family: var(--font-pixel-headline);
}

html,
body {
  margin: 0;
  padding: 0;
  overflow-x: hidden;
}

body {
  /* body */
  background: var(--background);
  color: var(--foreground);
  font-family:
    var(--font-pixelify), var(--font-pixel-mono), var(--font-pixel-retron),
    var(--font-pixel-terminal), var(--font-pixel-headline), Arial, Helvetica, sans-serif;
}

/* Initial black fade */
@keyframes black-bg-fade {
  0% {
    opacity: 1;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 0;
    visibility: hidden;
  }
}

.black-bg-fade {
  animation: black-bg-fade 3s ease-in-out forwards;
}

/* ****************************** */
/* MAIN-MENU
/* ****************************** */

/*
  1. Start with the right side of the button hidden (clip-path: inset(0 100% 0 0))
  2. Show the button from the right side (clip-path: inset(0 0 0 0))
  3. Hide the button from the left side (clip-path: inset(0 0 0 100%))
*/
@keyframes menu-button-white-bg {
  0% {
    clip-path: inset(0 100% 0 0);
    opacity: 1;
  }
  50% {
    clip-path: inset(0 0 0 0);
    opacity: 1;
  }
  100% {
    clip-path: inset(0 0 0 100%);
    opacity: 1;
  }
}

.menu-button-white-bg {
  opacity: 0;
  animation: menu-button-white-bg 0.5s ease-in-out forwards;
}

@keyframes menu-button-white-bg-reverse {
  0% {
    clip-path: inset(0 0 0 100%);
    opacity: 1;
  }
  50% {
    clip-path: inset(0 0 0 0);
    opacity: 1;
  }
  100% {
    clip-path: inset(0 100% 0 0);
    opacity: 1;
  }
}

.menu-button-white-bg-reverse {
  opacity: 0;
  animation: menu-button-white-bg-reverse 0.2s ease-out forwards;
}

/*
  Explanation (0 - 100%): (0 - 100% 0 - 0%)
  (0 - 100% 0 - 0%) -> this
  (0 - 100% 0 - 0%)
*/
@keyframes menu-button {
  0% {
    clip-path: inset(0 100% 0 0);
    opacity: 1;
  }
  100% {
    clip-path: inset(0 0 0 0);
    opacity: 1;
  }
}

.menu-button {
  opacity: 0;
  animation: menu-button 0.25s ease-in-out forwards;
}

@keyframes menu-button-reverse {
  0% {
    clip-path: inset(0 0 0 0);
    opacity: 1;
  }
  100% {
    clip-path: inset(0 100% 0 0);
    opacity: 1;
  }
}

.menu-button-reverse {
  opacity: 0;
  animation: menu-button-reverse 0.25s ease-in-out forwards;
}

/* Echo effect animation for Press Start button */
@keyframes echo {
  0% {
    opacity: 0;
  }
  5% {
    opacity: 0.8;
    transform: scale(1);
    filter: blur(0px);
  }
  100% {
    opacity: 0;
    transform: scale(1.5);
    filter: blur(4px);
  }
}

.animate-echo {
  animation: echo 0.5s ease-in-out forwards;
}

/* Delayed echo animation for second wave */
@keyframes echo-delayed {
  34% {
    opacity: 0;
  }
  35% {
    opacity: 0.8;
    transform: scale(1);
    filter: blur(0px);
  }
  100% {
    opacity: 0;
    transform: scale(1.5);
    filter: blur(4px);
  }
}

.animate-echo-delayed {
  animation: echo-delayed 0.6s ease-in-out forwards;
}

/*
  Splash Background Sprite Animation: 25 frames, each 2200px wide (total 55000px)
  - In total, we move sprite sheet left by 52800px [(25-1) * 2200px ]
  - Animation uses steps(24) for 25 frames
  - background-size is set to 55000px to fit the full sprite sheet
  - image-rendering ensures pixel art stays crisp
*/

@keyframes sprite-anim {
  from {
    background-position-x: 0;
  }
  to {
    background-position-x: -52800px;
  } /* (25-1) * 2200px = 52800px */
}

.sprite-layer {
  position: absolute;
  left: 50%;
  width: 2200px;
  background-repeat: no-repeat;
  background-size: 55000px 100%; /* full sprite sheet width */
  animation: sprite-anim 2.5s steps(24) infinite;
  image-rendering: pixelated;
  image-rendering: -webkit-optimize-contrast;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
  -ms-interpolation-mode: nearest-neighbor;
  image-rendering: optimizeSpeed;
}

#bg1 {
  z-index: 6;
  background-image: url('/pixel/1 black.png');
  height: 613px;
  bottom: -140px;
  transform: translateX(-50%) translateY(0px) scale(0.88); /* Front layer scale */
  pointer-events: none; /* Allow clicks to pass through to Menu behind */
}
#bg2 {
  z-index: 4;
  background-image: url('/pixel/2 water.png');
  height: 630px;

  bottom: -100px;
  transform: translateX(-50%) translateY(0px) scale(0.89); /* Water layer scale */
}
#bg3 {
  z-index: 3;
  background-image: url('/pixel/3 midland.png');
  height: 444px;

  bottom: 460px; /* height of water layer */
  transform: translateX(-50%) translateY(0px) scale(0.9); /* Midland layer scale */
}
#bg4 {
  z-index: 2;
  background-image: url('/pixel/4 buildings.png');
  height: 306px;

  bottom: 500px;
  transform: translateX(-50%) translateY(0px) scale(0.91); /* Buildings layer scale */
}
#bg5 {
  z-index: 1;
  background-image: url('/pixel/5 sky.png');
  height: 640px;

  top: -43px;
  transform: translateX(-50%) translateY(0px) scale(0.92); /* Sky layer scale */
}


/* ****************************** */
/* ABOUT-ME
/* ****************************** */

/* Profile
   - Portrait: 191 frames. Tiles: 32 frames. Looped separately.
   - Box: border #466C8C, fill #021728, behind the portrait stack.
   - Layout (centering, width/height of the section) is handled via Tailwind on the JSX.
*/

.profile-unit {
  position: relative;
  /* Base frame size */
  width: 284px;
  height: 328px;
  transform: scale(1);
  transform-origin: center;
}

/* Shared sprite styling for profile layers; pixel-perfect rendering */
.profile-sprite-layer {
  position: absolute;
  inset: 0;
  background-repeat: no-repeat;
  background-position: 0 0;
  image-rendering: pixelated;
  image-rendering: -webkit-optimize-contrast;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
}

/* Tiles: 32 frames, spritesheet 9088x328 → 284px per frame. */
@keyframes profile-tiles-anim {
  from {
    background-position-x: 0;
  }
  to {
    /* (32 - 1) * 284px = 8804px */
    background-position-x: -8804px;
  }
}

.profile-tiles-layer {
  background-image: url('/pixel/tiles.png');
  /* Use the full spritesheet dimensions so aspect ratio is correct. */
  background-size: 9088px 328px;
  /* 32 frames at ~10 FPS (same as main-menu bg: 25f / 2.5s). */
  animation: profile-tiles-anim 3.2s steps(31) infinite;
}

/* Portrait: 191 frames, spritesheet 54244x328 → 284px per frame. */
@keyframes profile-portrait-anim {
  from {
    background-position-x: 0;
  }
  to {
    /* (191 - 1) * 284px = 53960px */
    background-position-x: -53960px;
  }
}

/* Default idle: portrait WITH glasses */
.profile-portrait-layer-glasses {
  background-image: url('/pixel/portrait-glasses.png');
  /* Full spritesheet dimensions; one frame is 284x328px. */
  background-size: 54244px 328px;
  /* 191 frames at ~10 FPS (same as main-menu bg). */
  animation: profile-portrait-anim 19.1s steps(190) infinite;
}

/* Default idle: portrait WITHOUT glasses */
.profile-portrait-layer-noglasses {
  background-image: url('/pixel/portrait.png');
  background-size: 54244px 328px;
  animation: profile-portrait-anim 19.1s steps(190) infinite;
}

/* Talking: 48 frames, spritesheet 13632x328 → 284px per frame. */
@keyframes profile-portrait-talking-anim {
  from {
    background-position-x: 0;
  }
  to {
    /* (48 - 1) * 284px = 13348px */
    background-position-x: -13348px;
  }
}

/* Talking: WITH glasses */
.profile-portrait-talking-layer-glasses {
  background-image: url('/pixel/portrait-talking-glasses.png');
  background-size: 13632px 328px;
  /* Play once; React state in Profile swaps back to idle when finished. */
  animation: profile-portrait-talking-anim 4.8s steps(47);
}

/* Talking: WITHOUT glasses */
.profile-portrait-talking-layer-noglasses {
  background-image: url('/pixel/portrait-talking.png');
  background-size: 13632px 328px;
  animation: profile-portrait-talking-anim 4.8s steps(47);
}


/* ****************************** */
/* PROJECTS
/* ****************************** */





/* ****************************** */
/* EXTRA
/* ****************************** */
